<!-- (C) 2015 Samuel Jacobs All Rights Reserved -->
<template name="dashboard">
  <div class="row">
    {{> stickyFooter}}

  </div>
  <div class="container-fluid container-margin-top">

    <!-- Profile Picture -->
    <div class="row">
      <div class="panel panel-default">
        <div class="panel-body side-padding  no-top-padding light-grey-color-background">
          {{#if currentUser.profile.name}}
          <a href="/bioEdit/{{currentUser.username}}"><i class="fa fa-gear">
          </i> Start your Profile Now!
        </a>
        {{/if}}
        <div class="well">
          <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
            <div class="row">

              <a href="/bioEdit/{{currentUser.username}}"><img class="img img-circle profile-pic" src="{{thisDog.profilePic}}"></a>
              <a href="/bioEdit/{{currentUser.username}}"><img class="img img-circle third-pic pull-right" src="/images/ozziesOwner.jpg"></a>
            </div>
          </div>
          <!-- Bio -->
          <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9">

            <strong>{{thisDog.name}}

            </strong>
            <p>{{thisDog.breed}}</p>
            <p>{{thisDog.birthDate}} {{thisDog.gender}}</p>
          </div>
        </div>

      </div>
    </div>
  </div>
  <!-- Cute Dogs -->
  <div class="row">
    <div class="panel panel-default">
      <div class="panel-body side-padding  no-top-padding light-grey-color-background">

        <img id="cuteDogPic" class="img img-square profile-pic" src="/images/cute_puppy_{{cuteDogPicNumber}}.jpg">
      </div>
      <div class="row">
        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 text-center">
          {{randomNumber}} Treats
        </div>
        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 text-center">
          {{randomNumber}} Barks
        </div>
      </div>
      <div class="btn-group btn-group-justified">

        <a data-action="nextDog" class="btn btn-lg btn-default no-border compliment-color-background white-text rounded friend-add shadow" type="button">
          <img class="img img-icon" src="/images/bone.png">
        </a>
        <a class="btn btn-lg btn-default no-border compliment-color-background white-text rounded friend-add shadow" data-toggle="collapse" data-target="#newPostCollapse" type="button">
          <img class="img img-icon" src="/images/bark.png">
        </a>
        <a class="btn btn-lg btn-default no-border compliment-color-background white-text rounded friend-add shadow" data-action="nextDog" type="button">
          <i class="fa fa-refresh">
          </i></a>

        </div>
      </div>

    </div>
    <!-- 3 Buttons -->

    <div class="row">
      <div class="panel panel-default">

        <div class="panel-body">
          <div class="collapse light-grey-color-background" id="newPostCollapse">
            {{> newPostTemplate}}

          </div>
          <div class="text-center">
            <button data-action="sendFriendRequest" class="btn btn-lg btn-default no-border compliment-color-background white-text rounded friend-add shadow" type="button">
              <i class="fa fa-user-plus"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Posts -->
    <div class="row">

      <div class="panel panel-default shadow no-border">
        <div class="panel-heading shadow no-border">
          <div class="text-center">
            <h3  class="dark-text thin">{{thisDog.name}}'s Tail</h3>
          </div>
        </div>



        {{#each thisDogsPosts}}
        {{#if parentPostId}}
        {{else}}
        <div class="list-group-item list-group-item-post shadow lightest-grey-color-background">
          <div class="row lightest-grey-color-background shadow">
            <div class="col-lg-2 col-md-2 col-sm-3 col-xs-3">
              <img class="img img-square profile-pic" src="{{friendProfilePic dogWhoPosted}}">
            </div>
            <div class="col-lg-10 col-md-10 col-sm-9 col-xs-9">
              <h4 class="dark-text">
                <strong>
                  {{dogWhoPosted}}
                </strong>
              </h4>
              <div class="dark-text"> {{postDate}}</div>
            </div>
          </div>
          <div class="row lightest-grey-color-background">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
              {{postImgUrl}}
              <img class="img img-square profile-pic" src="{{postImgUrl}}">
              


                  <div class="dark-text lightest-grey-color-background well"><strong>{{text}}</strong></div>

                  <div class="list-group-item lightest-grey-color-background">
                    <div class="container-fluid text-center">
                      <button class="btn btn-inverted-brand" data-toggle="collapse" data-target="#postCollapse{{_id}}" data-action="newComment"  data-post-id={{_id}} type="button"><i class="fa fa-comment"></i> Comment</button>
                      <button class="btn btn-brand" data-action="upVotePost" data-post-id={{_id}} type="button"><i class="fa fa-paw"></i> {{numberOfLikesForPostByPostId _id}}</button>
                    </div>
                  </div>
                  <div class="list-group-item lightest-grey-color-background">

                    <div class="collapse" id="postCollapse{{_id}}">
                      <div class="well">

                        <div class="list-group">
                          <div class="list-group-item">
                            <div class="row">
                              <textarea class="form-control" placeholder="Whats your comment?" cols="100" data-id="{{_id}}" rows="5" id="commentText{{_id}}"></textarea>
                            </div>

                            {{> upload_bootstrap callbacks=postPicUpload}}
                            <img src="" class="img img-square profile-pic" id="commentImagePreview">
                          </div>
                          <div class="list-group-item">
                            <div class="text-center">
                              <button class="btn btn-default btn-add-on  white-text shadow no-border square-edges dark-background"  data-action="cancelComment" type="button">   <i class="fa fa-close"></i> CANCEL</button>
                              <button class="btn btn-default btn-add-on  white-text shadow no-border square-edges brand-color-background"  data-post-id="{{_id}}" data-action="saveComment" type="button">   <i class="fa fa-check"></i> POST</button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              {{numberOfCommentsByPostId _id}} comments
              <div class="row lightest-grey-color-background shadow">
                <div class="well">
                  <a class="dark-text no-border" data-toggle="collapse" data-target="#commentCollapse{{_id}}" aria-expanded="false" aria-controls="collapseExample">
                    show comments...
                  </a>
                </div>
                <div class="collapse" id="commentCollapse{{_id}}">
                  <div class="jumbotron lighter-grey-color-background">


                    {{#each thisPostsCommentsById _id}}
                    <div class="well">
                      <div class="row lighter-grey-color-background">
                        <div class="col-lg-2 col-md-2 col-sm-3 col-xs-3">
                          <img class="img img-square profile-pic" src="{{friendProfilePic dogWhoPosted}}">
                        </div>
                        <div class="col-lg-10 col-md-10 col-sm-9 col-xs-9">
                          <h4 class="dark-text"><strong>{{dogWhoPosted}}</strong></h4>
                          <div class="dark-text"> {{postDate}}</div>
                        </div>
                      </div>
                      <div class="row lighter-grey-color-background">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                          <img class="img img-square profile-pic" src="{{postImgUrl}}">

                          <div class="dark-text lighter-grey-color-background well"><strong>{{text}}</strong></div>

                          <div class="list-group-item lighter-grey-color-background">
                            <div class="container-fluid lighter-grey-color-background">
                              <button class="btn btn-brand" data-action="upVotePost" data-post-id={{_id}} type="button"><i class="fa fa-paw"></i> {{numberOfLikesForPostByPostId _id}}</button>
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>

                    {{/each}}
                  </div>
                </div>
              </div>
            </div>
            {{/if}}
            {{/each}}
          </div>
        </div>
      </div>
    </template>


    <template name="dogInfo">
      <div class="btn-group btn-group-justified dark-background" role="group" aria-label="">
        <a href="{{ pathFor 'photos'}}" class="btn btn-sm btn-default  no-border transparent white-text square-edges" type="button">
          <i class="fa fa-paw"> Friends</i>
        </a>
        <a href="/photos/{{thisDog.username}}" class="btn btn-sm btn-default  no-border transparent white-text square-edges" type="button">
          <i class="fa fa-photo"> Pics</i>
        </a>
        <a href="{{ pathFor 'about'}}" class="btn btn-sm btn-default  no-border transparent white-text square-edges" type="button">
          <i class="fa fa-info-circle"> Story</i>
        </a>
      </div>
    </template>



    <template name="dashboard2">

    </template>
    <!--  End of dashboard template  -->




    <!--***********************************-->
    <!--  for displaying friends in a grid -->
    <!--***********************************-->
    <template name="friendGridDisplay">
      <div class="panel panel-default  shadow-box  no-border">
        <div class="panel-body  no-border">




          {{#each thisDog.friends}}
          <!-- width of .grid-sizer used for columnWidth -->
          <a href="{{ pathFor 'dashboard'}}{{friendUsername}}">
            <img class="img img-square friend-pic-grid" src="{{friendProfilePic friendUsername}}" alt="{{friendProfilePic friendUsername}}">
          </a>


          {{/each}}

        </div>
      </div>
    </template>
    <!--  End of stats friend grid display template  -->
    <!--************************************-->
    <!--  for displaying favorite activites -->
    <!--************************************-->
    <template name="favoriteActivitiesDisplay">
      <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
          <div class="panel panel-default  shadow-box  no-border">
            <div class="panel-body  no-border">
              <div class="panel-heading text-center">
                <i class="fa fa-heart"></i>I LOVE
              </div>
              {{#if isMyProfile}}
              <div class="list-group-item text-center">
                <input class="form-control typeahead puppy-search" name="team" type="text"
                placeholder="Add activitiy..."
                autocomplete="off" spellcheck="off"
                data-source="Activities" id="activityToAdd"/>
              </div>
              <div class="list-group-item text-center">
                <button class="btn btn-default btn-add-on  btn-custom btn-brand"  data-action="addActivity" type="button">   <i class="fa fa-plus">ADD</i></button>
              </div>
              {{/if}}

              {{#each thisDogsActivities}}
              <div class="list-group-item">
                <div class="row">

                  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                    <div class="dropdown">
                      <button class="dropdown-toggle btn btn-default btn-add-on  btn-custom btn-white" data-toggle="dropdown" type="button"><i class="fa fa-ellipsis-h"></i></button>
                      <ul class="dropdown-menu">
                        <div class="row">
                          <div class="list-group">
                          </div>
                        </div>
                        <div class="list-group-item">{{> friendGridDisplay}}
                        </div>
                        <div class="list-group-item text-center">
                          <button class="btn btn-default btn-add-on  btn-custom btn-red"  data-action="deleteActivity" type="button">   <i class="fa fa-close">REMOVE</i></button>
                        </div>
                        <div class="list-group-item text-center">
                          <button class="btn btn-default btn-add-on  btn-custom btn-brand"  data-action="findMoreFriendsWhoLikeThisActivity" type="button">   <i class="fa fa-search">MATCH</i></button>
                        </div>
                      </ul>
                    </div>
                  </div>

                  <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                    <strong>{{name}}</strong>
                  </div>

                  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                    <span class="badge">{{numberOfFreindsWithSameInterest name}}</span>
                  </div>


                </div>

              </div>

              {{/each}}

            </div>
          </div>
        </div>
      </div>
    </template>

    <template name="newPostTemplate">
      <div class="list-group">
        <div class="list-group-item">
          <div class="well">
            <textarea class="form-control " placeholder="Let's hear it..." cols="100"  rows="5" id="postText"></textarea>
          </div>
        </div>
        <div class="list-group-item">
          <div class="text-center">
            <button class="btn btn-default btn-add-on  white-text shadow no-border square-edges dark-background"  data-action="cancelPost" type="button">   <i class="fa fa-close"></i> CANCEL</button>
            <button class="btn btn-default btn-add-on  white-text shadow no-border square-edges brand-color-background"  data-action="savePost" type="button">   <i class="fa fa-check"></i> POST</button>
          </div>
        </div>
        <div class="list-group-item">
          <div class="panel-body transparent no-boder">
            {{> upload_bootstrap callbacks=postPicUpload}}
          </div>
        </div>

        <div class="list-group-item">
          <img src="" class="img img-square profile-pic" id="postImagePreview">
        </div>
      </div>

    </template>





    <template name="interactionsEdit">
      <div class="list-group">
        <div class="list-group-item">
          <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
              Energy
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
              <input id="energyValue" class="slider slider-horizontal" data-slider-min="1" data-slider-max="3" data-slider-step="1" data-slider-value="{{thisDog.energy}}"/>
            </div>
          </div>
        </div>

        <div class="list-group-item">
          <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
              Aggression
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
              <input id="aggressionValue" class="slider slider-horizontal" data-slider-min="1" data-slider-max="3" data-slider-step="1" data-slider-value="{{thisDog.aggression}}"/>
            </div>
          </div>
        </div>

        <div class="list-group-item">
          <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
              Obedience
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
              <input id="obedienceValue" class="slider slider-horizontal" data-slider-min="1" data-slider-max="3" data-slider-step="1" data-slider-value="{{thisDog.obedience}}"/>
            </div>
          </div>
        </div>


      </div>
    </template>
    <template name="interactionsDisplay">
      <div class="list-group">
        <div class="list-group-item">
          <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
              Energy
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
              <div class="label label-brand">{{thisDog.energy}}</div>
            </div>
          </div>

        </div>

        <div class="list-group-item">
          <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
              Aggression
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
              <div class="label label-brand">{{thisDog.aggression}}</div>
            </div>
          </div>
        </div>

        <div class="list-group-item">
          <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
              Obedience
            </div>
            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
              <div class="label label-brand">{{thisDog.obedience}}</div>
            </div>
          </div>
        </div>


      </div>
    </template>
    <!-- (C) 2015 Samuel Jacobs All Rights Reserved -->
